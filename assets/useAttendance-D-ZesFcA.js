import{r as a}from"./react-vendor-CHLR6qIU.js";import{T as m,e as h,c as r,g as c,q as s,k as w,w as y}from"./firebase-A1TrhjMY.js";import{d as o}from"./firebaseConfig-DYwBm8hJ.js";const g=()=>{const d=a.useCallback(async t=>{try{const e={...t,createdAt:m.now()};return{id:(await h(r(o,"attendance"),e)).id,...e}}catch(e){throw console.error("storeAttendance error:",e),new Error("Failed to store attendance")}},[]),l=a.useCallback(async()=>{try{return(await c(s(r(o,"attendance"),w("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("getAllAttendance error:",t),new Error("Failed to fetch all attendance")}},[]),i=a.useCallback(async t=>{try{const e=s(r(o,"attendance"),y("employeeId","==",t));return(await c(e)).docs.map(n=>({id:n.id,...n.data()}))}catch(e){throw console.error("getEmployeeAttendance error:",e),new Error("Failed to fetch employee attendance")}},[]);return{storeAttendance:d,getAllAttendance:l,getEmployeeAttendance:i}};export{g as u};
