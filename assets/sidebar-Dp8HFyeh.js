import{j as e,d as u,u as h,L as p}from"./react-vendor-CHLR6qIU.js";import{u as g}from"./useAuth-Bqe1jm6I.js";/* empty css            */import{a as f,j as b}from"./firebase-A1TrhjMY.js";function A({collapsed:r,toggleSidebar:n}){var i;const{user:s}=g(),l=()=>{const a="0123456789ABCDEF";return Array.from({length:6},()=>a[Math.floor(Math.random()*16)]).join("")},o=a=>{const t=(a==null?void 0:a.charAt(0))||"?";return`https://ui-avatars.com/api/?background=${l()}&size=130&color=FFF&font-size=0.60&name=${t}`};return e.jsxs("header",{className:"fixed top-0 left-0 w-full h-[60px] bg-white flex justify-between items-center px-2 shadow-sm",children:[e.jsx("button",{onClick:n,className:`text-2xl bg-white text-black transition-all duration-300 w-[10px] ${r?"ml-[70px]":"ml-[250px]"}`,children:e.jsx("i",{className:"bx bx-menu text-black"})}),e.jsxs("div",{className:"flex flex-row-reverse gap-2 items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"m-0 p-0",children:s==null?void 0:s.firstName}),e.jsx("p",{className:"m-0 p-0 text-sm",children:(i=s==null?void 0:s.position)==null?void 0:i.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")})]}),e.jsx("img",{src:o(s==null?void 0:s.firstName),alt:"UserImage",className:"w-[45px] h-[45px] rounded-full"})]})]})}const j="/SwiftProsys/assets/mainlogo-CV3WyvAi.png",w="/SwiftProsys/assets/logo-Deu-ZYmB.png";function S({collapsed:r}){const n=u(),s=h(),l=localStorage.getItem("role"),o=l==="admin"?"/admin":"/user",a=[{name:"Dashboard",icon:"bx bxs-dashboard",url:`${o}`,roles:["admin"]},{name:"Employees",icon:"bx bx-user",url:`${o}/emplist`,roles:["admin"]},{name:"Attendance",icon:"bx bx-calendar-event",url:l==="admin"?`${o}/attendance`:`${o}`,roles:["admin","user"]},{name:"Reports",icon:"bx bx-bar-chart-alt-2",url:`${o}/attendancereport`,roles:["admin"]},{name:"Logout",icon:"bx bx-log-out-circle",url:null,roles:["admin","user"]}].filter(t=>t.roles.includes(l));return e.jsxs("div",{className:`flex flex-col bg-white border-r transition-all duration-300 ${r?"p-2 w-[70px]":"p-2 w-[250px]"} h-[100vh]`,children:[r?e.jsx("div",{className:"w-[50px] h-[45px]",children:e.jsx("img",{src:w,alt:"SwiftProsys",className:"w-full h-full"})}):e.jsx("div",{className:"w-[200px] h-[50px]",children:e.jsx("img",{src:j,alt:"SwiftProsys",className:"w-full h-full"})}),e.jsx("ul",{className:"flex flex-col grow px-2 my-3",children:a.map((t,c)=>{const m=n.pathname===t.url;return e.jsx("li",{className:"mb-2",children:t.url?e.jsxs(p,{to:t.url,className:`flex items-center p-2 no-underline rounded-md transition-colors
                  ${m?"bg-maincolor text-white":"text-gray-800 hover:bg-maincolor hover:text-white"}`,children:[e.jsx("i",{className:`${t.icon} text-xl me-2`}),!r&&e.jsx("span",{children:t.name})]}):e.jsxs("button",{onClick:async()=>{const d=f();try{await b(d),localStorage.clear(),s("/login",{replace:!0})}catch(x){console.error("Logout failed:",x.message),alert("Logout failed: "+x.message)}},className:"flex items-center w-full p-2 text-left no-underline text-gray-800 rounded-md hover:bg-maincolor hover:text-white transition-colors",children:[e.jsx("i",{className:`${t.icon} text-xl me-2`}),!r&&e.jsx("span",{children:t.name})]})},c)})}),!r&&e.jsxs("div",{className:"text-xs text-gray-500 text-center px-2 py-3",children:[e.jsx("hr",{className:"my-2"}),"Swift Prosys Â© 2025 HRM"]})]})}export{A as H,S};
